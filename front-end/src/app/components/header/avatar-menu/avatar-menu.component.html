@if($user | async; as user) {
<div class="avatar-container">
  <button [matMenuTriggerFor]="menuAvatar">
    <img
      class="avatar-img"
      [src]="
        (user?.avatar?.contentType == 'url' && user?.avatar?.url?.toString()) ||
        (user?.avatar?.buffer &&
          'data:' +
            user?.avatar?.contentType +
            ';base64,' +
            user?.avatar?.buffer) ||
        'assets/images/avatar-user-default.png'
      "
    />
  </button>
  <mat-menu class="menu-avatar" #menuAvatar="matMenu">
    <div class="user flex items-center">
      <img
        class="avatar-img"
        [src]="
          (user?.avatar?.contentType == 'url' &&
            user?.avatar?.url?.toString()) ||
          (user?.avatar?.buffer &&
            'data:' +
              user?.avatar?.contentType +
              ';base64,' +
              user?.avatar?.buffer) ||
          'assets/images/avatar-user-default.png'
        "
      />
      <div class="flex flex-col">
        <h6 class="name">{{ user.fullname || user.username }}</h6>
        <span class="tagname">#{{ user.username }}</span>
      </div>
    </div>
    <div class="menu-item">
      <ng-icon class="menu-icon" name="ionPersonCircleOutline"></ng-icon>
      Trang cá nhân
    </div>
    <div class="menu-item" routerLink="/myactivities">
      <ng-icon class="menu-icon" name="heroAcademicCap"></ng-icon>
      Khóa học của tôi
    </div>
    <div class="menu-item">
      <ng-icon class="menu-icon" name="ionNewspaperOutline"></ng-icon> Bài viết
      của tôi
    </div>
    <div class="menu-item" routerLink="/settings">
      <ng-icon class="menu-icon" name="ionSettingsOutline"></ng-icon> Cài đặt
    </div>
    <div class="menu-item" (click)="logOut()">
      <ng-icon class="menu-icon" name="ionLogOutOutline"></ng-icon>
      Đăng xuất
    </div>
  </mat-menu>
</div>
}
